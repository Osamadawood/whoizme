# public/.htaccess
DirectoryIndex index.php

RewriteEngine On

# مهم في MAMP لو الموقع تحت دوميـن فرعي/بورت
#RewriteBase /

# صفحة البروفايل العامة
RewriteRule ^u/([a-zA-Z0-9_-]+)/?$ u.php?u=$1 [L,QSA]

# اللينك المختصر: حوّل أي شيء تحت /r/ إلى public/r/index.php
RewriteRule ^r/([A-Za-z0-9_-]+)/?$ r/index.php?c=$1 [L,QSA]

# ------------------ Pretty URLs (dash -> php targets) ------------------
# Individual mappings (safe on Apache without RewriteMap)
RewriteRule ^dashboard/?$                dashboard.php            [L,QSA]
RewriteRule ^link-stats/?$               link_stats.php           [L,QSA]
RewriteRule ^link-visits/?$              link_visits.php          [L,QSA]
RewriteRule ^link-edit/?$                link_edit.php            [L,QSA]
RewriteRule ^link-create/?$              link_create.php          [L,QSA]
RewriteRule ^settings/?$                 profile_edit.php         [L,QSA]
RewriteRule ^login/?$                    login.php                [L,QSA]
RewriteRule ^logout/?$                   logout.php               [L,QSA]
RewriteRule ^register/?$                 register.php             [L,QSA]
RewriteRule ^forgot-password/?$          forgot.php               [L,QSA]
RewriteRule ^reset-password/?$           reset.php                [L,QSA]
RewriteRule ^qr-codes/?$                 qr/index.php             [L,QSA]
# ----------------------------------------------------------------------

# القاعدة الافتراضية
RewriteCond %{REQUEST_FILENAME} !-f
RewriteCond %{REQUEST_FILENAME} !-d
RewriteRule ^ index.php [QSA,L]