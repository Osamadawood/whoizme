/* public/assets/scss/components/_avatars.scss */
//// ملوش أي اعتماد على brand.token — كلها CSS vars + fallback
@mixin apply() {
  .avatar {
    inline-size: 40px;
    block-size: 40px;
    border-radius: 999px;
    overflow: hidden;
    display: inline-block;

    /* خلفية وحدود متناغمة مع سطح الثيم */
    background: color-mix(in oklab, var(--surface, #0f172a), #fff 6%);
    background: color-mix(in oklab, var(--accent-2, #0f172a), #fff 6%);
    border: 1px solid color-mix(in oklab, var(--surface, #0f172a), #fff 12%);
  }

  .avatar--sm {
    inline-size: 28px;
    block-size: 28px;
  }

  .avatar--lg {
    inline-size: 56px;
    block-size: 56px;
  }

  /* شارة الحالة (أونلاين مثلاً) */
  .avatar-badge {
    position: relative;
  }

  .avatar-badge::after {
    content: "";
    position: absolute;
    right: -2px;
    bottom: -2px;
    inline-size: 10px;
    block-size: 10px;
    border-radius: 999px;

    /* نستخدم متغير حالة لو موجود، وإلا فـ fallback أخضر */
    background: var(--success, #16a34a);
    border: 2px solid var(--page-bg, #0b1220);
    box-shadow: 0 2px 6px rgba(0, 0, 0, .3);
  }

  /* كومة أفاتارات متداخلة */
  .avatar-stack {
    display: inline-flex;
    align-items: center;
  }

  .avatar-stack>.avatar {
    margin-inline-start: -10px;
    border: 2px solid var(--page-bg, #0b1220);
  }

  .avatar-stack>.avatar:first-child {
    margin-inline-start: 0;
  }
}