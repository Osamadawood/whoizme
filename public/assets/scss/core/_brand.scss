@use "sass:map";
@use "sass:math";
@use "sass:color";

/* Typography (IBM Plex Sans Arabic) */
$font-family-base: "IBM Plex Sans Arabic", system-ui, -apple-system, "Segoe UI", Roboto, Helvetica, Arial, sans-serif;
$font-weight: (
  regular: 400,
  medium: 500,
  semibold: 600,
  bold: 700
);
$type-scale: (
  xs: 0.75rem,
  sm: 0.875rem,
  base: 1rem,
  lg: 1.125rem,
  xl: 1.25rem,
  h6: 1.125rem,
  h5: 1.25rem,
  h4: 1.5rem,
  h3: 1.875rem,
  h2: 2.25rem,
  h1: clamp(2rem, 2.6vw, 2.75rem)
);

/* Spacing scale */
$space: (
  0: 0,
  1: 0.25rem,
  2: 0.5rem,
  3: 0.75rem,
  4: 1rem,
  5: 1.25rem,
  6: 1.5rem,
  8: 2rem,
  10: 2.5rem,
  12: 3rem
);

/* Radii */
$radius: (
  sm: 0.375rem,
  md: 0.5rem,
  lg: 0.75rem,
  xl: 1rem,
  pill: 9999px
);

/* Shadows */
$shadow: (
  sm: 0 4px 10px rgba(0,0,0,.15),
  md: 0 8px 24px rgba(0,0,0,.2),
  lg: 0 16px 40px rgba(0,0,0,.28)
);

/* Containers */
$container: (
  sm: 640px,
  md: 768px,
  lg: 1024px,
  xl: 1200px
);

/* Palettes */
$dark-palette: (
  page-bg: #0b0f17,
  surface: #0f1624,
  surface-2: #111a2b,
  border: #1e2a3f,
  text: #e6edf7,
  text-muted: #9fb3d9,

  brand: #3b82f6,
  brand-600: #2f6de0,
  brand-700: #2458bf,
  brand-800: #1c4699,

  accent: #22d3ee,
  success: #22c55e,
  warning: #f59e0b,
  danger:  #ef4444,

  field-bg: #0c1422,
  field-bd: #1c2740,
  ring: #4f87ff
);

$light-palette: (
  page-bg: #f7f9fc,
  surface: #ffffff,
  surface-2: #f3f6fb,
  border: #e3e9f3,
  text: #0f172a,
  text-muted: #4b5568,

  brand: #2260ff,
  brand-600: #1b50d9,
  brand-700: #1744b6,
  brand-800: #11368f,

  accent: #0ea5e9,
  success: #16a34a,
  warning: #d97706,
  danger:  #dc2626,

  field-bg: #ffffff,
  field-bd: #d8e0ef,
  ring: #2b6bff
);

/* Helpers */
@function token($group, $key) { @return map.get($group, $key); }

@mixin emit-vars($palette) {
  --page-bg: #{token($palette, page-bg)};
  --surface: #{token($palette, surface)};
  --surface-2: #{token($palette, surface-2)};
  --border: #{token($palette, border)};
  --text: #{token($palette, text)};
  --text-muted: #{token($palette, text-muted)};

  --brand: #{token($palette, brand)};
  --brand-600: #{token($palette, brand-600)};
  --brand-700: #{token($palette, brand-700)};
  --brand-800: #{token($palette, brand-800)};

  --accent: #{token($palette, accent)};
  --success: #{token($palette, success)};
  --warning: #{token($palette, warning)};
  --danger:  #{token($palette, danger)};

  --field-bg: #{token($palette, field-bg)};
  --field-bd: #{token($palette, field-bd)};
  --ring: #{token($palette, ring)};

  --radius-sm: #{map.get($radius, sm)};
  --radius-md: #{map.get($radius, md)};
  --radius-lg: #{map.get($radius, lg)};
  --radius-xl: #{map.get($radius, xl)};
  --radius-pill: #{map.get($radius, pill)};

  --shadow-sm: #{map.get($shadow, sm)};
  --shadow-md: #{map.get($shadow, md)};
  --shadow-lg: #{map.get($shadow, lg)};

  --ff-base: #{$font-family-base};
  --fw-regular: #{map.get($font-weight, regular)};
  --fw-medium:  #{map.get($font-weight, medium)};
  --fw-semibold:#{map.get($font-weight, semibold)};
  --fw-bold:    #{map.get($font-weight, bold)};

  @each $k, $v in $type-scale { --fs-#{$k}: #{$v}; }
  @each $k, $v in $space { --sp-#{$k}: #{$v}; }
  @each $k, $v in $container { --container-#{$k}: #{$v}; }
}
