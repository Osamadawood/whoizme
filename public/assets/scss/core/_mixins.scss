/* ===== Core Mixins & Utilities (namespace: m) ===== */

/* Focus outline with good contrast & offset */
@mixin focus-ring($color: var(--primary), $offset: 2px, $width: 2px) {
  outline: $width solid $color;
  outline-offset: $offset;
}

/* Elevation */
@mixin elevation($level: md) {
  @if $level ==sm {
    box-shadow: 0 1px 2px rgba(0, 0, 0, .06);
  }

  @else if $level ==lg {
    box-shadow: 0 10px 24px rgba(0, 0, 0, .12);
  }

  @else {
    box-shadow: 0 4px 10px rgba(0, 0, 0, .08);
  }
}

/* Centered app container */
@mixin container($max: 1280px, $side-pad: 4.8rem) {
  width: min($max, 100% - $side-pad);
  margin-inline: auto;
}

/* Card / Panel surface (used by multiple components e.g. auth) */
@mixin card($radius: 1.6rem,
  $padding: 1.6rem,
  $shadow: md,
  $bg: var(--surface),
  $border: var(--border)) {
  background: $bg;
  border: 1px solid $border;
  border-radius: $radius;
  @include elevation($shadow);
  padding: $padding;
}

/* Alias: panel = card */
@mixin panel($args...) {
  @include card($args...);
}

/* Helpers */
@mixin ease-out-fast {
  transition: all .16s cubic-bezier(.2, .6, .2, 1);
}

@mixin no-motion {
  @media (prefers-reduced-motion: reduce) {
    transition: none !important;
    animation: none !important;
    scroll-behavior: auto !important;
  }
}